C = [   [ 1 0 0 0 0 0 0 0 0 0 1];...
        [0 1 0 0 1 0 0 0 0 0 0];...
        [0 0 1 0 0 1 0 1 0 0 0];...
        [0 0 1 1 0 0 0 0 1 0 0];...
        [0 0 0 0 1 1 0 0 0 0 0];...
        [1 0 0 0 0 1 0 1 0 0 0];...
        [0 0 0 1 0 0 1 0 1 0 0];...
        [0 0 0 0 0 0 0 1 0 1 0];...
        [0 0 0 0 0 1 0 0 1 0 1];...
        [0 1 0 0 0 0 0 0 0 1 0];...
        [0 0 0 0 0 0 0 0 1 0 1]];
 P = rand(3,11);
 conn = [];
 scatter3(P(1,:),P(2,:),P(3,:),5,'r')
  hold on
 for i = 1:size(P,2)
     text(P(1,i),P(2,i),P(3,i),num2str(i));%,'Color','red')
 end

 for i = 1:(size(C,1)-1)
     % i will only look at the upper right half
     for j = (i+1):size(C,2)
         if C(i,j)
             % then point cj is connected to point ci
             conn = cat(2,conn,[P(:,i) P(:,j) nan(3,1) ]);
         end
     end
 end
 
 plot3(conn(1,:),conn(2,:),conn(3,:),'b')